{"ast":null,"code":"import { CommonModule } from \"@angular/common\";\nimport { ReactiveFormsModule, Validators } from \"@angular/forms\";\n// Angular Material\nimport { MatCardModule } from \"@angular/material/card\";\nimport { MatIconModule } from \"@angular/material/icon\";\nimport { MatFormFieldModule } from \"@angular/material/form-field\";\nimport { MatInputModule } from \"@angular/material/input\";\nimport { MatButtonModule } from \"@angular/material/button\";\nimport { MatProgressSpinnerModule } from \"@angular/material/progress-spinner\";\nimport { MatDialogModule } from \"@angular/material/dialog\";\nimport { MatChipsModule } from '@angular/material/chips';\nimport { StatusIngresso } from \"../../models/ingresso.model\";\nimport { SolicitarReembolsoDialogComponent } from '../solicitar-reembolso-dialog/solicitar-reembolso-dialog.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/ingressos.service\";\nimport * as i3 from \"../../services/notification.service\";\nimport * as i4 from \"../../services/auth.service\";\nimport * as i5 from \"@angular/material/dialog\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/card\";\nimport * as i8 from \"@angular/material/icon\";\nimport * as i9 from \"@angular/material/button\";\nimport * as i10 from \"@angular/material/progress-spinner\";\nimport * as i11 from \"@angular/material/chips\";\nfunction MeusIngressosComponent_p_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 9);\n    i0.ɵɵtext(1, \"\\n\\u00A0 \\u00A0 \\u00A0 Fa\\u00E7a login para ver seus ingressos.\\n\\u00A0 \\u00A0 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MeusIngressosComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtext(1, \"\\n\\u00A0 \\u00A0 \");\n    i0.ɵɵelement(2, \"mat-spinner\", 11);\n    i0.ɵɵtext(3, \"\\n\\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"Buscando seus ingressos...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n\\u00A0 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MeusIngressosComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1, \"\\n\\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"sentiment_dissatisfied\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n\\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(5, \"h3\");\n    i0.ɵɵtext(6, \"Nenhum ingresso encontrado.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n\\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtext(9, \"Parece que voc\\u00EA ainda n\\u00E3o tem ingressos. Explore nossos eventos!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n\\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(11, \"button\", 13);\n    i0.ɵɵtext(12, \"\\n\\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(13, \"mat-icon\");\n    i0.ɵɵtext(14, \"event\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \" Encontrar Eventos\\n\\u00A0 \\u00A0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n\\u00A0 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MeusIngressosComponent_div_20_mat_card_2_p_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Data do Evento:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ingresso_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(4, 1, ingresso_r2.evento == null ? null : ingresso_r2.evento.dataEvento, \"dd/MM/yyyy HH:mm\"), \"\");\n  }\n}\nfunction MeusIngressosComponent_div_20_mat_card_2_p_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 28)(1, \"strong\");\n    i0.ɵɵtext(2, \"Data Devolu\\u00E7\\u00E3o:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ingresso_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(4, 1, ingresso_r2.dataDevolucao, \"dd/MM/yyyy HH:mm\"), \"\");\n  }\n}\nfunction MeusIngressosComponent_div_20_mat_card_2_p_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 28)(1, \"strong\");\n    i0.ɵɵtext(2, \"Motivo Devolu\\u00E7\\u00E3o:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ingresso_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ingresso_r2.motivoDevolucao, \"\");\n  }\n}\nfunction MeusIngressosComponent_div_20_mat_card_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-card\", 16);\n    i0.ɵɵtext(1, \"\\n\\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(2, \"mat-card-header\", 17);\n    i0.ɵɵtext(3, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(4, \"mat-card-title\", 18);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \" \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(8, \"mat-card-content\", 19);\n    i0.ɵɵtext(9, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(10, \"div\", 20);\n    i0.ɵɵtext(11, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(12, \"p\")(13, \"strong\");\n    i0.ɵɵtext(14, \"Comprador:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(17, \"p\")(18, \"strong\");\n    i0.ɵɵtext(19, \"Email:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(22, \"p\")(23, \"strong\");\n    i0.ɵɵtext(24, \"Telefone:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27, \" \\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(28, \"div\", 20);\n    i0.ɵɵtext(29, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(30, \"p\")(31, \"strong\");\n    i0.ɵɵtext(32, \"Quantidade:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(34, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(35, \"p\")(36, \"strong\");\n    i0.ɵɵtext(37, \"Valor Total da Compra:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(38);\n    i0.ɵɵpipe(39, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(40, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(41, \"p\")(42, \"strong\");\n    i0.ɵɵtext(43, \"Data da Compra:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(44);\n    i0.ɵɵpipe(45, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(46, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵtemplate(47, MeusIngressosComponent_div_20_mat_card_2_p_47_Template, 5, 4, \"p\", 21);\n    i0.ɵɵtext(48, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(49, \" \\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(50, \"div\", 22);\n    i0.ɵɵtext(51, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(52, \"strong\");\n    i0.ɵɵtext(53, \"Status:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(54, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(55, \"mat-chip-row\", 23);\n    i0.ɵɵtext(56);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(57, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(58, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵtemplate(59, MeusIngressosComponent_div_20_mat_card_2_p_59_Template, 5, 4, \"p\", 24);\n    i0.ɵɵtext(60, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵtemplate(61, MeusIngressosComponent_div_20_mat_card_2_p_61_Template, 4, 1, \"p\", 24);\n    i0.ɵɵtext(62, \"\\n\\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(63, \" \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(64, \"mat-card-actions\", 25);\n    i0.ɵɵtext(65, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(66, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function MeusIngressosComponent_div_20_mat_card_2_Template_button_click_66_listener() {\n      const ingresso_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.baixarIngresso(ingresso_r2));\n    });\n    i0.ɵɵtext(67, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(68, \"mat-icon\");\n    i0.ɵɵtext(69, \"download\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(70, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(71, \" \\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(72, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function MeusIngressosComponent_div_20_mat_card_2_Template_button_click_72_listener() {\n      const ingresso_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.solicitarReembolso(ingresso_r2));\n    });\n    i0.ɵɵtext(73, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementStart(74, \"mat-icon\");\n    i0.ɵɵtext(75, \"undo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(76, \"\\n\\u00A0 \\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(77, \"\\n\\u00A0 \\u00A0 \\u00A0 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(78, \"\\n\\u00A0 \\u00A0 \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ingresso_r2 = ctx.$implicit;\n    const i_r4 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵstyleProp(\"--animation-delay\", i_r4 * 0.1 + \"s\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate((ingresso_r2.evento == null ? null : ingresso_r2.evento.nome) || \"Evento Desconhecido\");\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate1(\" \", ingresso_r2.nomeComprador, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ingresso_r2.emailComprador, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ingresso_r2.telefoneComprador, \"\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\" \", ingresso_r2.quantidade, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind4(39, 15, ingresso_r2.valorTotal, \"BRL\", \"symbol\", \"1.2-2\"), \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(45, 20, ingresso_r2.dataCompra, \"dd/MM/yyyy HH:mm\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ingresso_r2.evento == null ? null : ingresso_r2.evento.dataEvento);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"color\", ctx_r2.getStatusColor(ingresso_r2));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r2.getStatusText(ingresso_r2));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ingresso_r2.dataDevolucao);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ingresso_r2.motivoDevolucao);\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.podeReembolsar(ingresso_r2));\n  }\n}\nfunction MeusIngressosComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1, \"\\n\\u00A0 \\u00A0 \");\n    i0.ɵɵtemplate(2, MeusIngressosComponent_div_20_mat_card_2_Template, 79, 23, \"mat-card\", 15);\n    i0.ɵɵtext(3, \"\\n\\u00A0 \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.ingressos);\n  }\n}\nexport let MeusIngressosComponent = /*#__PURE__*/(() => {\n  class MeusIngressosComponent {\n    fb; // Declarar como propriedade\n    ingressosService;\n    notificationService;\n    authService; // <<-- DECLARAR AQUI (antes de injetar no construtor)\n    dialog;\n    buscaForm;\n    ingressos = [];\n    buscando = false;\n    emailBuscado = false;\n    statusIngresso = StatusIngresso;\n    constructor(\n    // <<-- ALTERADO AQUI\n    fb,\n    // Sem 'private' se já declarou acima\n    ingressosService, notificationService, authService,\n    // <<-- ALTERADO AQUI\n    dialog // Injeção do MatDialog\n    ) {\n      // Atribuir as injeções às propriedades\n      this.fb = fb;\n      this.ingressosService = ingressosService;\n      this.notificationService = notificationService;\n      this.authService = authService; // <<-- ATRIBUIÇÃO AQUI\n      this.dialog = dialog;\n    }\n    ngOnInit() {\n      this.criarForm();\n      if (this.authService.isLoggedIn()) {\n        this.buscarMeusIngressos();\n      }\n    }\n    criarForm() {\n      this.buscaForm = this.fb.group({\n        email: [\"\", [Validators.required, Validators.email]]\n      });\n    }\n    buscarIngressos() {\n      if (this.buscaForm.valid) {\n        this.buscando = true;\n        const email = this.buscaForm.value.email;\n        this.ingressosService.getIngressosPorEmail(email).subscribe({\n          next: response => {\n            this.buscando = false;\n            this.emailBuscado = true;\n            if (response.sucesso && response.dados) {\n              this.ingressos = response.dados;\n              if (this.ingressos.length === 0) {\n                this.notificationService.info(\"Nenhum ingresso encontrado para este email\");\n              }\n            } else {\n              this.notificationService.error(response.mensagem);\n              this.ingressos = [];\n            }\n          },\n          error: err => {\n            this.buscando = false;\n            this.emailBuscado = true;\n            this.ingressos = [];\n            this.notificationService.error(\"Erro ao buscar ingressos\");\n            console.error(\"Erro na busca de ingressos por email:\", err);\n          }\n        });\n      }\n    }\n    buscarMeusIngressos() {\n      this.buscando = true;\n      this.emailBuscado = true;\n      this.ingressosService.getMeusIngressos().subscribe({\n        next: response => {\n          this.buscando = false;\n          if (response.sucesso && response.dados) {\n            this.ingressos = response.dados;\n            if (this.ingressos.length === 0) {\n              this.notificationService.info(\"Você ainda não possui ingressos.\");\n            }\n          } else {\n            this.ingressos = [];\n            this.notificationService.error(response.mensagem);\n          }\n        },\n        error: err => {\n          this.buscando = false;\n          this.ingressos = [];\n          this.notificationService.error(\"Erro ao buscar seus ingressos.\");\n          console.error(\"Erro na busca de meus ingressos:\", err);\n        }\n      });\n    }\n    getStatusColor(ingresso) {\n      if (ingresso.motivoDevolucao || ingresso.dataDevolucao) {\n        return \"warn\";\n      }\n      if (!ingresso.ativo) {\n        return \"accent\";\n      }\n      return \"primary\";\n    }\n    getStatusText(ingresso) {\n      if (ingresso.motivoDevolucao || ingresso.dataDevolucao) {\n        return StatusIngresso.Cancelado;\n      }\n      if (!ingresso.ativo) {\n        return StatusIngresso.Usado;\n      }\n      return StatusIngresso.Ativo;\n    }\n    podeReembolsar(ingresso) {\n      console.log(`--- Depurando ingresso ID: ${ingresso.id} (Evento: ${ingresso.evento?.nome || 'N/A'}) ---`);\n      console.log(`Ingresso ATIVO (do backend): ${ingresso.ativo}`);\n      console.log(`Ingresso completo para depuração:`, ingresso);\n      if (!ingresso.ativo || ingresso.motivoDevolucao || ingresso.dataDevolucao) {\n        console.log(`RESULTADO: Não reembolsável. Motivo: Ingresso não está ATIVO ou já foi solicitado reembolso/devolvido.`);\n        return false;\n      }\n      console.log(`Dados do Evento: ${JSON.stringify(ingresso.evento)}`);\n      if (!ingresso.evento || !ingresso.evento.dataEvento) {\n        console.log(`RESULTADO: Não reembolsável. Motivo: Dados do evento ou data do evento faltando.`);\n        return false;\n      }\n      const dataEvento = new Date(ingresso.evento.dataEvento);\n      const agora = new Date();\n      const diferencaMs = dataEvento.getTime() - agora.getTime();\n      const diferencaHoras = diferencaMs / (1000 * 60 * 60);\n      console.log(`Data do Evento (convertida): ${dataEvento.toLocaleString('pt-BR')}`);\n      console.log(`Hora Atual: ${agora.toLocaleString('pt-BR')}`);\n      console.log(`Diferença em horas até o evento: ${diferencaHoras}`);\n      const elegivelPeloPrazo = diferencaHoras > 24;\n      if (!elegivelPeloPrazo) {\n        console.log(`RESULTADO: Não reembolsável. Motivo: Faltam menos de 24 horas para o evento ou evento já passou.`);\n      } else {\n        console.log(`RESULTADO: Reembolsável. Motivo: Faltam mais de 24 horas para o evento.`);\n      }\n      console.log(`--- Fim da depuração para ingresso ID: ${ingresso.id} ---`);\n      return elegivelPeloPrazo;\n    }\n    solicitarReembolso(ingresso) {\n      const dialogRef = this.dialog.open(SolicitarReembolsoDialogComponent, {\n        width: '400px',\n        data: {\n          ingresso\n        },\n        disableClose: true,\n        panelClass: 'modern-dialog'\n      });\n      dialogRef.afterClosed().subscribe(motivo => {\n        if (motivo) {\n          this.notificationService.info('Solicitando reembolso...');\n          const refundData = {\n            motivo: motivo\n          };\n          this.ingressosService.solicitarReembolso(ingresso.id, refundData).subscribe({\n            next: response => {\n              if (response.sucesso) {\n                this.notificationService.success('Solicitação de reembolso enviada com sucesso!');\n                this.buscarMeusIngressos();\n              } else {\n                this.notificationService.error(response.mensagem || 'Falha ao solicitar reembolso.');\n              }\n            },\n            error: err => {\n              this.notificationService.error('Erro na comunicação ao solicitar reembolso.');\n              console.error('Erro de reembolso:', err);\n            }\n          });\n        } else {\n          this.notificationService.info('Solicitação de reembolso cancelada.');\n        }\n      });\n    }\n    baixarIngresso(ingresso) {\n      const ingressoId = ingresso.id;\n      this.ingressosService.baixarIngressoPdf(ingressoId).subscribe({\n        next: blob => {\n          const url = window.URL.createObjectURL(blob);\n          const a = document.createElement('a');\n          a.href = url;\n          a.download = `ingresso_${ingressoId}.pdf`;\n          document.body.appendChild(a);\n          a.click();\n          document.body.removeChild(a);\n          window.URL.revokeObjectURL(url);\n          this.notificationService.success('Download do ingresso iniciado.');\n        },\n        error: err => {\n          this.notificationService.error('Erro ao baixar ingresso.');\n          console.error('Erro ao baixar ingresso:', err);\n        }\n      });\n    }\n    static ɵfac = function MeusIngressosComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MeusIngressosComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.IngressosService), i0.ɵɵdirectiveInject(i3.NotificationService), i0.ɵɵdirectiveInject(i4.AuthService), i0.ɵɵdirectiveInject(i5.MatDialog));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MeusIngressosComponent,\n      selectors: [[\"app-meus-ingressos\"]],\n      decls: 21,\n      vars: 4,\n      consts: [[1, \"my-tickets-page-wrapper\"], [1, \"page-title-section\", \"animate-fade-in-down\"], [1, \"main-title-impact\"], [1, \"main-title-icon\"], [1, \"main-subtitle\"], [\"class\", \"header-info-text\", 4, \"ngIf\"], [\"class\", \"loading-full-page-indicator\", 4, \"ngIf\"], [\"class\", \"no-tickets-display animate-fade-in-up delay-1\", 4, \"ngIf\"], [\"class\", \"tickets-grid-container\", 4, \"ngIf\"], [1, \"header-info-text\"], [1, \"loading-full-page-indicator\"], [\"diameter\", \"50\"], [1, \"no-tickets-display\", \"animate-fade-in-up\", \"delay-1\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"routerLink\", \"/eventos\"], [1, \"tickets-grid-container\"], [\"class\", \"ticket-card animate-fade-in-scale\", 3, \"--animation-delay\", 4, \"ngFor\", \"ngForOf\"], [1, \"ticket-card\", \"animate-fade-in-scale\"], [1, \"ticket-card-header\"], [1, \"event-name\"], [1, \"ticket-card-content\"], [1, \"ticket-detail-group\"], [4, \"ngIf\"], [1, \"ticket-status-row\"], [\"selected\", \"\", 3, \"color\"], [\"class\", \"refund-info\", 4, \"ngIf\"], [1, \"ticket-card-actions\"], [\"mat-icon-button\", \"\", \"color\", \"primary\", \"matTooltip\", \"Baixar ingresso\", 3, \"click\"], [\"mat-icon-button\", \"\", \"color\", \"warn\", \"matTooltip\", \"Solicitar reembolso\", 3, \"click\", \"disabled\"], [1, \"refund-info\"]],\n      template: function MeusIngressosComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtext(1, \" \\u00A0 \");\n          i0.ɵɵelementStart(2, \"div\", 1);\n          i0.ɵɵtext(3, \"\\n\\u00A0 \\u00A0 \");\n          i0.ɵɵelementStart(4, \"h1\", 2);\n          i0.ɵɵtext(5, \"\\n\\u00A0 \\u00A0 \\u00A0 \");\n          i0.ɵɵelementStart(6, \"mat-icon\", 3);\n          i0.ɵɵtext(7, \"confirmation_number\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(8, \"\\n\\u00A0 \\u00A0 \\u00A0 Meus Ingressos\\n\\u00A0 \\u00A0 \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(9, \"\\n\\u00A0 \\u00A0 \");\n          i0.ɵɵelementStart(10, \"p\", 4);\n          i0.ɵɵtext(11, \"\\n\\u00A0 \\u00A0 \\u00A0 Visualize e gerencie todos os seus ingressos de eventos.\\n\\u00A0 \\u00A0 \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(12, \"\\n\\u00A0\\n\\u00A0 \\u00A0 \");\n          i0.ɵɵtemplate(13, MeusIngressosComponent_p_13_Template, 2, 0, \"p\", 5);\n          i0.ɵɵtext(14, \"\\n\\u00A0 \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(15, \" \\u00A0 \");\n          i0.ɵɵtemplate(16, MeusIngressosComponent_div_16_Template, 7, 0, \"div\", 6);\n          i0.ɵɵtext(17, \" \\u00A0 \");\n          i0.ɵɵtemplate(18, MeusIngressosComponent_div_18_Template, 17, 0, \"div\", 7);\n          i0.ɵɵtext(19, \" \\u00A0 \");\n          i0.ɵɵtemplate(20, MeusIngressosComponent_div_20_Template, 4, 1, \"div\", 8);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"ngIf\", !ctx.authService.isLoggedIn());\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.buscando);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", !ctx.buscando && ctx.ingressos.length === 0);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.ingressos.length > 0 && !ctx.buscando);\n        }\n      },\n      dependencies: [CommonModule, i6.NgForOf, i6.NgIf, i6.CurrencyPipe, i6.DatePipe, ReactiveFormsModule, MatCardModule, i7.MatCard, i7.MatCardActions, i7.MatCardContent, i7.MatCardHeader, i7.MatCardTitle, MatIconModule, i8.MatIcon, MatFormFieldModule, MatInputModule, MatButtonModule, i9.MatButton, i9.MatIconButton, MatProgressSpinnerModule, i10.MatProgressSpinner, MatDialogModule, MatChipsModule, i11.MatChipRow],\n      styles: [\".my-tickets-page-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;min-height:calc(100vh - var(--toolbar-height, 64px));box-sizing:border-box;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.tickets-header-card[_ngcontent-%COMP%]{width:100%;max-width:900px;margin-bottom:30px;background:#fffffff2;border-radius:16px;box-shadow:0 8px 24px #00000026;padding:25px 30px;box-sizing:border-box;text-align:center;overflow:hidden;display:block;margin-left:auto;margin-right:auto}.tickets-header-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:15px}.main-title-impact[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:800;background:linear-gradient(135deg,#fff,#448aff);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;display:flex;align-items:center;justify-content:center;gap:8px;letter-spacing:-.5px;margin-bottom:10px}.main-title-icon[_ngcontent-%COMP%]{font-size:2rem;color:#7e57c2}.main-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#555;opacity:.85}.tickets-header-card[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#777;margin-top:10px}.loading-full-page-indicator[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:15px;margin-top:50px;color:#fff;font-size:1.2rem}.loading-full-page-indicator[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{--mdc-circular-progress-active-indicator-color: white}.no-tickets-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;padding:40px;background:#ffffffe6;border-radius:16px;box-shadow:0 4px 15px #0000001a;margin-top:30px;max-width:500px;color:#333}.no-tickets-display[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:4rem;color:#764ba2;margin-bottom:20px}.no-tickets-display[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:10px;color:#1a1a1a}.no-tickets-display[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;color:#666;margin-bottom:25px}.tickets-grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:25px;width:100%;max-width:1200px}.ticket-card[_ngcontent-%COMP%]{background:#fffffffa;border-radius:12px;box-shadow:0 4px 15px #00000014;overflow:hidden;display:flex;flex-direction:column;justify-content:space-between;transition:transform .3s ease,box-shadow .3s ease;will-change:transform,box-shadow;animation-fill-mode:backwards}.ticket-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 10px 25px #00000026}.ticket-card-header[_ngcontent-%COMP%]{padding:15px 20px;background:linear-gradient(135deg,#a77be6,#8b5fdf);color:#fff;border-bottom:1px solid rgba(255,255,255,.2)}.ticket-card-header[_ngcontent-%COMP%]   .event-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin:0}.ticket-card-header[_ngcontent-%COMP%]   .ticket-code[_ngcontent-%COMP%]{font-size:.85rem;opacity:.9}.ticket-card-content[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column;gap:15px;color:#333}.ticket-detail-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 5px;font-size:.95rem;color:#444}.ticket-detail-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1a1a1a;font-weight:500}.ticket-status-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-top:10px;font-size:.95rem}mat-chip-row[_ngcontent-%COMP%]{font-weight:700;height:28px}.refund-info[_ngcontent-%COMP%]{font-size:.85rem;color:#888;margin-top:5px}.ticket-card-actions[_ngcontent-%COMP%]{padding:10px 15px;justify-content:flex-end;border-top:1px solid #eee;background-color:#fcfcfc}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInDown .7s ease-out forwards}.animate-fade-in-scale[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInScale .4s ease-out forwards;animation-delay:var(--animation-delay, 0s)}.animate-fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out forwards}@media (max-width: 900px){.tickets-header-card[_ngcontent-%COMP%]{padding:20px}.main-title-impact[_ngcontent-%COMP%]{font-size:1.6rem;gap:8px}.main-title-icon[_ngcontent-%COMP%]{font-size:1.8rem}.main-subtitle[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 600px){.my-tickets-page-wrapper[_ngcontent-%COMP%]{padding:10px}.tickets-header-card[_ngcontent-%COMP%]{margin-bottom:20px;border-radius:8px;padding:15px}.main-title-impact[_ngcontent-%COMP%]{font-size:1.4rem;flex-direction:column;gap:5px}.main-title-icon[_ngcontent-%COMP%]{font-size:1.6rem}.main-subtitle[_ngcontent-%COMP%]{font-size:.9rem}.tickets-grid-container[_ngcontent-%COMP%]{gap:15px}.ticket-card-content[_ngcontent-%COMP%]{padding:15px}.no-tickets-display[_ngcontent-%COMP%]{padding:20px}.no-tickets-display[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:3rem}.no-tickets-display[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}}\"]\n    });\n  }\n  return MeusIngressosComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}