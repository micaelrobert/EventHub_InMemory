{"ast":null,"code":"import { inject } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule } from \"@angular/forms\";\nimport { MatTableModule } from \"@angular/material/table\";\nimport { MatButtonModule } from \"@angular/material/button\";\nimport { MatIconModule } from \"@angular/material/icon\";\nimport { MatCardModule } from \"@angular/material/card\";\nimport { MatChipsModule } from \"@angular/material/chips\";\nimport { MatFormFieldModule } from \"@angular/material/form-field\";\nimport { MatInputModule } from \"@angular/material/input\";\nimport { MatSelectModule } from \"@angular/material/select\";\nimport { IngressosService } from \"./../services/ingressos.service\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/material/table\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/material/icon\";\nimport * as i6 from \"@angular/material/card\";\nimport * as i7 from \"@angular/material/chips\";\nimport * as i8 from \"@angular/material/form-field\";\nimport * as i9 from \"@angular/material/input\";\nimport * as i10 from \"@angular/material/select\";\nfunction IngressoListComponent_th_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 28);\n    i0.ɵɵtext(1, \"C\\u00F3digo\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction IngressoListComponent_td_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ingresso_r1 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ingresso_r1.codigoIngresso);\n  }\n}\nfunction IngressoListComponent_th_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 28);\n    i0.ɵɵtext(1, \"Evento\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction IngressoListComponent_td_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ingresso_r2 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ingresso_r2.evento == null ? null : ingresso_r2.evento.nome);\n  }\n}\nfunction IngressoListComponent_th_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 28);\n    i0.ɵɵtext(1, \"Comprador\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction IngressoListComponent_td_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 29)(1, \"div\")(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementStart(5, \"small\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ingresso_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ingresso_r3.nomeComprador);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ingresso_r3.emailComprador);\n  }\n}\nfunction IngressoListComponent_th_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 28);\n    i0.ɵɵtext(1, \"Qtd\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction IngressoListComponent_td_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ingresso_r4 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ingresso_r4.quantidade);\n  }\n}\nfunction IngressoListComponent_th_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 28);\n    i0.ɵɵtext(1, \"Valor\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction IngressoListComponent_td_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ingresso_r5 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind4(2, 1, ingresso_r5.valorTotal, \"BRL\", \"symbol\", \"1.2-2\"));\n  }\n}\nfunction IngressoListComponent_th_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 28);\n    i0.ɵɵtext(1, \"Data Compra\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction IngressoListComponent_td_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ingresso_r6 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(2, 1, ingresso_r6.dataCompra, \"dd/MM/yyyy HH:mm\"));\n  }\n}\nfunction IngressoListComponent_th_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 28);\n    i0.ɵɵtext(1, \"Status\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction IngressoListComponent_td_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 29)(1, \"mat-chip\", 30);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ingresso_r7 = ctx.$implicit;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"color\", ctx_r7.getStatusColor(ingresso_r7.status));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ingresso_r7.status, \" \");\n  }\n}\nfunction IngressoListComponent_th_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 28);\n    i0.ɵɵtext(1, \"A\\u00E7\\u00F5es\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction IngressoListComponent_td_54_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 29)(1, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function IngressoListComponent_td_54_Template_button_click_1_listener() {\n      const ingresso_r10 = i0.ɵɵrestoreView(_r9).$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.validarIngresso(ingresso_r10));\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"qr_code_scanner\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction IngressoListComponent_tr_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 32);\n  }\n}\nfunction IngressoListComponent_tr_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 33);\n  }\n}\nfunction IngressoListComponent_div_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34)(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"receipt_long\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4, \"Nenhum ingresso encontrado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6, \"N\\u00E3o h\\u00E1 ingressos que correspondam aos filtros aplicados.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let IngressoListComponent = /*#__PURE__*/(() => {\n  class IngressoListComponent {\n    service = inject(IngressosService);\n    ingressos = [];\n    ingressosFiltrados = [];\n    filtroCodigo = \"\";\n    filtroStatus = \"\";\n    displayedColumns = [\"codigo\", \"evento\", \"comprador\", \"quantidade\", \"valor\", \"dataCompra\", \"status\", \"acoes\"];\n    ngOnInit() {\n      this.carregarIngressos();\n    }\n    carregarIngressos() {\n      this.service.getIngressos().subscribe({\n        next: response => {\n          if (response.sucesso && response.dados) {\n            this.ingressos = response.dados;\n            this.aplicarFiltros();\n          }\n        },\n        error: error => {\n          console.error(\"Erro ao carregar ingressos:\", error);\n        }\n      });\n    }\n    aplicarFiltros() {\n      this.ingressosFiltrados = this.ingressos.filter(ingresso => {\n        const matchCodigo = !this.filtroCodigo || ingresso.codigo.toLowerCase().includes(this.filtroCodigo.toLowerCase());\n        const matchStatus = !this.filtroStatus || ingresso.status === this.filtroStatus;\n        return matchCodigo && matchStatus;\n      });\n    }\n    getStatusColor(status) {\n      switch (status) {\n        case \"Ativo\":\n          return \"primary\";\n        case \"Cancelado\":\n          return \"warn\";\n        case \"Usado\":\n          return \"accent\";\n        default:\n          return \"\";\n      }\n    }\n    validarIngresso(ingresso) {\n      this.service.validarIngresso(ingresso.codigo).subscribe({\n        next: response => {\n          if (response.sucesso) {\n            console.log(\"Ingresso validado com sucesso!\");\n            this.carregarIngressos();\n          }\n        },\n        error: error => {\n          console.error(\"Erro ao validar ingresso:\", error);\n        }\n      });\n    }\n    static ɵfac = function IngressoListComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || IngressoListComponent)();\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: IngressoListComponent,\n      selectors: [[\"app-ingresso-list\"]],\n      decls: 58,\n      vars: 6,\n      consts: [[1, \"container\"], [1, \"header\"], [1, \"filtros-card\"], [1, \"filtros\"], [\"appearance\", \"outline\"], [\"matInput\", \"\", \"placeholder\", \"Digite o c\\u00F3digo\", 3, \"ngModelChange\", \"input\", \"ngModel\"], [\"matSuffix\", \"\"], [3, \"ngModelChange\", \"selectionChange\", \"ngModel\"], [\"value\", \"\"], [\"value\", \"Ativo\"], [\"value\", \"Cancelado\"], [\"value\", \"Usado\"], [1, \"tabela-card\"], [1, \"table-container\"], [\"mat-table\", \"\", 1, \"ingressos-table\", 3, \"dataSource\"], [\"matColumnDef\", \"codigo\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"evento\"], [\"matColumnDef\", \"comprador\"], [\"matColumnDef\", \"quantidade\"], [\"matColumnDef\", \"valor\"], [\"matColumnDef\", \"dataCompra\"], [\"matColumnDef\", \"status\"], [\"matColumnDef\", \"acoes\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"class\", \"no-data\", 4, \"ngIf\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [3, \"color\"], [\"mat-icon-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"], [1, \"no-data\"]],\n      template: function IngressoListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n          i0.ɵɵtext(3, \"Gest\\u00E3o de Ingressos\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"p\");\n          i0.ɵɵtext(5, \"Visualize e gerencie todos os ingressos vendidos\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"mat-card\", 2)(7, \"mat-card-content\")(8, \"div\", 3)(9, \"mat-form-field\", 4)(10, \"mat-label\");\n          i0.ɵɵtext(11, \"Buscar por c\\u00F3digo\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"input\", 5);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function IngressoListComponent_Template_input_ngModelChange_12_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.filtroCodigo, $event) || (ctx.filtroCodigo = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"input\", function IngressoListComponent_Template_input_input_12_listener() {\n            return ctx.aplicarFiltros();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"mat-icon\", 6);\n          i0.ɵɵtext(14, \"search\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(15, \"mat-form-field\", 4)(16, \"mat-label\");\n          i0.ɵɵtext(17, \"Status\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"mat-select\", 7);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function IngressoListComponent_Template_mat_select_ngModelChange_18_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.filtroStatus, $event) || (ctx.filtroStatus = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"selectionChange\", function IngressoListComponent_Template_mat_select_selectionChange_18_listener() {\n            return ctx.aplicarFiltros();\n          });\n          i0.ɵɵelementStart(19, \"mat-option\", 8);\n          i0.ɵɵtext(20, \"Todos\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"mat-option\", 9);\n          i0.ɵɵtext(22, \"Ativo\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"mat-option\", 10);\n          i0.ɵɵtext(24, \"Cancelado\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"mat-option\", 11);\n          i0.ɵɵtext(26, \"Usado\");\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵelementStart(27, \"mat-card\", 12)(28, \"mat-card-content\")(29, \"div\", 13)(30, \"table\", 14);\n          i0.ɵɵelementContainerStart(31, 15);\n          i0.ɵɵtemplate(32, IngressoListComponent_th_32_Template, 2, 0, \"th\", 16)(33, IngressoListComponent_td_33_Template, 2, 1, \"td\", 17);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(34, 18);\n          i0.ɵɵtemplate(35, IngressoListComponent_th_35_Template, 2, 0, \"th\", 16)(36, IngressoListComponent_td_36_Template, 2, 1, \"td\", 17);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(37, 19);\n          i0.ɵɵtemplate(38, IngressoListComponent_th_38_Template, 2, 0, \"th\", 16)(39, IngressoListComponent_td_39_Template, 7, 2, \"td\", 17);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(40, 20);\n          i0.ɵɵtemplate(41, IngressoListComponent_th_41_Template, 2, 0, \"th\", 16)(42, IngressoListComponent_td_42_Template, 2, 1, \"td\", 17);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(43, 21);\n          i0.ɵɵtemplate(44, IngressoListComponent_th_44_Template, 2, 0, \"th\", 16)(45, IngressoListComponent_td_45_Template, 3, 6, \"td\", 17);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(46, 22);\n          i0.ɵɵtemplate(47, IngressoListComponent_th_47_Template, 2, 0, \"th\", 16)(48, IngressoListComponent_td_48_Template, 3, 4, \"td\", 17);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(49, 23);\n          i0.ɵɵtemplate(50, IngressoListComponent_th_50_Template, 2, 0, \"th\", 16)(51, IngressoListComponent_td_51_Template, 3, 2, \"td\", 17);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵelementContainerStart(52, 24);\n          i0.ɵɵtemplate(53, IngressoListComponent_th_53_Template, 2, 0, \"th\", 16)(54, IngressoListComponent_td_54_Template, 4, 0, \"td\", 17);\n          i0.ɵɵelementContainerEnd();\n          i0.ɵɵtemplate(55, IngressoListComponent_tr_55_Template, 1, 0, \"tr\", 25)(56, IngressoListComponent_tr_56_Template, 1, 0, \"tr\", 26);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(57, IngressoListComponent_div_57_Template, 7, 0, \"div\", 27);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(12);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.filtroCodigo);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.filtroStatus);\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"dataSource\", ctx.ingressosFiltrados);\n          i0.ɵɵadvance(25);\n          i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.ingressosFiltrados.length === 0);\n        }\n      },\n      dependencies: [CommonModule, i1.NgIf, i1.CurrencyPipe, i1.DatePipe, FormsModule, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel, MatTableModule, i3.MatTable, i3.MatHeaderCellDef, i3.MatHeaderRowDef, i3.MatColumnDef, i3.MatCellDef, i3.MatRowDef, i3.MatHeaderCell, i3.MatCell, i3.MatHeaderRow, i3.MatRow, MatButtonModule, i4.MatIconButton, MatIconModule, i5.MatIcon, MatCardModule, i6.MatCard, i6.MatCardContent, MatChipsModule, i7.MatChip, MatFormFieldModule, i8.MatFormField, i8.MatLabel, i8.MatSuffix, MatInputModule, i9.MatInput, MatSelectModule, i10.MatSelect, i10.MatOption],\n      styles: [\".container[_ngcontent-%COMP%]{padding:2rem;max-width:1400px;margin:0 auto}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1976d2;margin-bottom:.5rem}.filtros-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.filtros[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.filtros[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{min-width:200px}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.ingressos-table[_ngcontent-%COMP%]{width:100%;min-width:800px}.no-data[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#666}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;margin-bottom:1rem}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:1rem}.filtros[_ngcontent-%COMP%]{flex-direction:column}.filtros[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{min-width:auto}}\"]\n    });\n  }\n  return IngressoListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}